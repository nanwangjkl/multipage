var Multipage={currentPage:0,pageCount:$(".multipage-display-page").length,winHeight:$(window).height(),initPageSlide:function(){var t=this;$(".multipage-display-page").each(function(){var e=this,i=new Hammer(this);i.add(new Hammer.Pan({threshold:0,pointers:0}));var a={x:0,y:0};i.on("panstart panmove",function(i){"panstart"==i.type&&(_x=a.x||0,_y=a.y||0),a.x=_x+i.deltaX,a.y=_y+i.deltaY,t.updatePos(0,a.y,e),t.updatePos(0,a.y+t.winHeight,$(e).next()[0]),t.updatePos(0,a.y-t.winHeight,$(e).prev()[0])}),i.on("panend",function(i){a.y<-50&&0!==$(e).next().length?(t.updateAni(0,0-t.winHeight,e),t.updateAni(0,0,$(e).next()[0]),t.updatePos(0,0-t.winHeight,$(e).prev()[0]),a.x=0,a.y=0,setTimeout(function(){this.setNextPageAni(e)}.bind(t),300),t.currentPage++):a.y>50&&0!==$(e).prev().length?(t.updateAni(0,t.winHeight,e),t.updateAni(0,0,$(e).prev()[0]),t.updatePos(0,t.winHeight,$(e).next()[0]),a.x=0,a.y=0,setTimeout(function(){this.setPrevPageAni(e)}.bind(t),300),t.currentPage--):(t.updateAni(0,0,e),t.updateAni(0,t.winHeight,$(e).next()[0]),t.updateAni(0,0-t.winHeight,$(e).prev()[0]),a.x=0,a.y=0)})}),$(".multipage-display-page").each(function(e){e>0&&t.updatePos(0,t.winHeight,this)}),$(".multipage-display-page:first-child").addClass("multipage-active")},updatePos:function(t,e,i){if(i){var a=["translate3d("+t+"px, "+e+"px, 0)"];i.style.webkitTransition="none",i.style.mozTransition="none",i.style.transition="none",i.style.webkitTransform=a,i.style.mozTransform=a,i.style.transform=a}},updateAni:function(t,e,i){if(i){var a=["translate3d("+t+"px, "+e+"px, 0)"];i.style.webkitTransition="all 0.3s",i.style.mozTransition="all 0.3s",i.style.transition="all 0.3s",i.style.webkitTransform=a,i.style.mozTransform=a,i.style.transform=a}},setNextPageAni:function(t){var e=$(t).removeClass("multipage-active").next().addClass("multipage-active")[0];$(e).find(".multipage-animate")},setPrevPageAni:function(t){var e=$(t).removeClass("multipage-active").prev().addClass("multipage-active")[0];$(e).find(".multipage-animate")},nextPage:function(){if(!(this.currentPage>=this.pageCount-1)){var t=$(".multipage-display-page")[this.currentPage];this.updateAni(0,0-this.winHeight,t),this.updateAni(0,0,$(t).next().get()[0]),this.updatePos(0,0-this.winHeight,$(t).prev().get()[0]),setTimeout(function(){this.setNextPageAni(t)}.bind(this),300),this.currentPage++}},prevPage:function(){if(!(this.currentPage<=0)){var t=$(".multipage-display-page")[this.currentPage];this.updateAni(0,this.winHeight,t),this.updateAni(0,0,$(t).prev().get()[0]),this.updatePos(0,this.winHeight,$(t).next().get()[0]),setTimeout(function(){this.setPrevPageAni(t)}.bind(this),300),this.currentPage--}},jumpToPage:function(t){if(!(t<0||t>=this.pageCount||t===this.currentPage)){var e=$(".multipage-display-page");if(t<this.currentPage){for(var i=e.slice(t+1,this.currentPage),a=0;a<i.length;a++)this.updatePos(0,this.winHeight,i[a]);this.updateAni(0,this.winHeight,e[this.currentPage]),this.updateAni(0,0,e[t]),this.currentPage=t,setTimeout(function(){$(e[this.currentPage]).removeClass("multipage-active"),$(e[t]).addClass("multipage-active")},300)}else{for(var i=e.slice(this.currentPage+1,t),a=0;a<i.length;a++)this.updatePos(0,0-this.winHeight,i[a]);this.updateAni(0,0-this.winHeight,e[this.currentPage]),this.updateAni(0,0,e[t]),this.currentPage=t,setTimeout(function(){$(e[this.currentPage]).removeClass("multipage-active"),$(e[t]).addClass("multipage-active")},300)}}}};
